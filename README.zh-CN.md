ğŸŒ **Language**: [English Version](README.md) | [ä¸­æ–‡ç‰ˆæ–‡æ¡£](README.zh-CN.md)

# automation-create-vueRoute-plugin

å‰è¨€ï¼š è¿™æ˜¯ä¸€ä¸ªå¯æ ¹æ®ç‰¹å®šæ–‡ä»¶ç›®å½•ç»“æ„è‡ªåŠ¨åˆ›å»ºå¯¼èˆªèœå•å’Œé¡µé¢è·¯ç”±çš„æ’ä»¶ã€‚ä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼Œä½ åªéœ€åœ¨è§„å®šçš„ç›®å½•ä¸‹æŒ‰ç…§é¡µé¢ç›®å½•ç»“æ„çš„è§„åˆ™åˆ›å»ºé¡µé¢æ–‡ä»¶ï¼Œå³å¯è‡ªåŠ¨ç”Ÿæˆé¡µé¢è·¯ç”±å’Œå¯¼èˆªèœå•ã€‚

#### é‚£æ’ä»¶é¡µé¢æ–‡ä»¶éœ€è¦æŒ‰ç…§ä»€ä¹ˆè§„åˆ™åˆ›å»ºå‘¢ï¼Ÿ

1. é¡µé¢æ–‡ä»¶å¿…é¡»æ”¾åœ¨é¡¹ç›®ä¸­çš„ src/pages ç›®å½•ä¸‹ï¼Œä¸”æ¯ä¸ªæ–‡ä»¶å¿…é¡»ä¸º index.vue æ–‡ä»¶ï¼Œindex.vue æ–‡ä»¶çš„çˆ¶ç›®å½•åå³ä¸ºè¯¥é¡µé¢çš„è·¯ç”±åã€‚ä¾‹å¦‚ï¼šä½ æœ‰ä¸€ä¸ªç”¨æˆ·ç®¡ç†é¡µé¢ï¼Œé‚£ä¹ˆè¯¥é¡µé¢çš„æ–‡ä»¶åå¿…é¡»ä¸º src/pages/user/index.vueï¼Œè¯¥é¡µé¢çš„è·¯ç”±ä¸º/userã€‚
2. å¦‚æœå¯¼èˆªèœå•æœ‰äºŒçº§æˆ–å¤šçº§çš„ï¼Œåˆ™ä½ åˆ›å»ºçš„é¡µé¢ç›®å½•ç»“æ„å¯æŒ‰ç…§ä½ æƒ³è¦çš„äºŒçº§æˆ–å¤šçº§ç›®å½•ç»“æ„æ¥åˆ›å»ºã€‚  
   ä¾‹å¦‚ï¼šä½ çš„å¯¼èˆªèœå•ä¸ºç”¨æˆ·ç®¡ç†/ç”¨æˆ·åˆ—è¡¨ã€ç”¨æˆ·ç®¡ç†/æƒé™è®¾ç½®ã€ç”¨æˆ·ç®¡ç†/è§’è‰²ç®¡ç†ï¼Œé‚£ä¹ˆä½ åˆ›å»ºçš„é¡µé¢ç›®å½•ç»“æ„åˆ†åˆ«ä¸ºï¼š

- ç”¨æˆ·åˆ—è¡¨ï¼šsrc/pages/user/userList/index.vueï¼›
- æƒé™è®¾ç½®ï¼šsrc/pages/user/permission/index.vueï¼›
- è§’è‰²ç®¡ç†ï¼šsrc/pages/user/role/index.vueï¼›
  > âš ï¸ **æ³¨æ„**ï¼šåœ¨ user ç›®å½•ä¸‹æ˜¯ä¸åº”è¯¥å­˜åœ¨ index.vue æ–‡ä»¶çš„ï¼Œå³ä¸åº”è¯¥åˆ›å»º src/pages/user/index.vue æ–‡ä»¶ã€‚

3. ä½ åº”è¯¥åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æ¥å­˜æ”¾é¡µé¢çš„é…ç½®ä¿¡æ¯ï¼Œæ¯ä¸ªé¡µé¢çš„é…ç½®ä¿¡æ¯ä»¥å„è‡ªçš„ç›®å½•åç§°ä¸º keyï¼Œä¸”å„é¡µé¢é…ç½®ä¿¡æ¯éƒ½æ˜¯å¹³çº§ï¼Œä¸èƒ½æŒ‰ç…§ç›®å½•ç»“æ„æ¥åµŒå¥—ã€‚  
   ä¾‹å¦‚ï¼š

```javascript
{
    user: {
        title: 'ç”¨æˆ·ç®¡ç†',
        icon: 'el-icon-user',
    },
    userList: {
        title: 'ç”¨æˆ·åˆ—è¡¨',
        icon: 'el-icon-user',
    },
    permission: {
        title: 'æƒé™è®¾ç½®',
        icon: 'el-icon-setting',
    },
    role: {
        title: 'è§’è‰²ç®¡ç†',
        icon: 'el-icon-s-custom',
    }
}
```

#### äº†è§£å®Œè§„åˆ™åï¼Œæˆ‘ä»¬å¼€å§‹ä½¿ç”¨æ’ä»¶å§ï¼

1. å®‰è£…æ’ä»¶ï¼š

```shell
npm install automation-create-vue-route-plugin --save-dev
```

2.å¼•ç”¨æ’ä»¶ï¼š

```javascript
import { createApp } from 'vue'
const app = createApp(App)
// å¼•å…¥æ’ä»¶
import automationCreateVueroutePlugin from "automation-create-vue-route-plugin";

// ä½¿ç”¨æ’ä»¶
app.use(automationCreateVueroutePlugin, {
  /**
   * type: object
   * å„ä¸ªé¡µé¢çš„æ–‡ä»¶æ¨¡å—ï¼Œè¦æ±‚ï¼š
   * 1. key ä¸ºé¡µé¢çš„è·¯ç”±åï¼Œvalue ä¸ºé¡µé¢çš„æ–‡ä»¶æ¨¡å—
   * 2. é¡µé¢çš„æ–‡ä»¶æ¨¡å—å¿…é¡»ä¸º index.vue æ–‡ä»¶
   * 3. keyä»¥src/pages/å¼€å¤´
   */
  modules: {
    "src/pages/user/userList/index.vue": {
      default: () => import("src/pages/user/userList/index.vue"),
    },
  },
  /**
   * type: object
   * å„ä¸ªé¡µé¢çš„é…ç½®ä¿¡æ¯ï¼Œè¦æ±‚ï¼š
   * 1. key ä¸ºé¡µé¢index.vueçš„çˆ¶ç›®å½•åç§°ï¼Œvalue ä¸ºé¡µé¢çš„é…ç½®ä¿¡æ¯
   * 2. é¡µé¢çš„é…ç½®ä¿¡æ¯å¿…é¡»ä¸ºå¯¹è±¡
   * 3. é¡µé¢çš„é…ç½®ä¿¡æ¯ä¸­å¿…é¡»åŒ…å« title
   */
  pagesConfig: {
    user: {
      title: "ç”¨æˆ·ç®¡ç†",
      icon: "el-icon-user",
    },
    userList: {
      title: "ç”¨æˆ·åˆ—è¡¨",
      icon: "el-icon-user",
    },
    permission: {
      title: "æƒé™è®¾ç½®",
      icon: "el-icon-setting",
    },
    role: {
      title: "è§’è‰²ç®¡ç†",
      icon: "el-icon-s-custom",
    },
  },
  /**
   * type: function
   *
   * è®¾ç½®å¯¼èˆªèœå•çš„å›è°ƒå‡½æ•°ï¼Œè¦æ±‚ï¼š
   * 1. å‚æ•° meun ä¸ºå¯¼èˆªèœå•å¯¹è±¡ï¼ŒåŒ…å« pathã€title å±æ€§
   * 2. å‚æ•° config ä¸ºé¡µé¢çš„é…ç½®ä¿¡æ¯å¯¹è±¡
   * 3. è¿”å›å€¼å¿…é¡»ä¸ºå¯¼èˆªèœå•å¯¹è±¡ï¼Œè‹¥è¿”å›å€¼ä¸º nullï¼Œåˆ™è¯¥å¯¼èˆªèœå•ä¸ä¼šè¢«æ·»åŠ åˆ°å¯¼èˆªèœå•ä¸­
   */
  setMeun: (meun, config) => {
    // ä½ å¯ä»¥æ ¹æ®é¡µé¢é…ç½®ä¿¡æ¯æ¥è®¾ç½®å¯¼èˆªèœå•çš„å±æ€§
    meun.sort = 1; //ä½ æœ‰å¯ä»¥ä»¥è®¾ç½®å¯¼èˆªèœå•çš„æ’åº
    meun.meta = {
      ...meun.meta,
      ...config,
    };
    return meun;
  },
  /**
   *
   * type: function
   *
   * è®¾ç½®é¢åŒ…å±‘çš„å›è°ƒå‡½æ•°ï¼Œè¦æ±‚ï¼š
   * 1. å‚æ•° route ä¸ºè·¯ç”±å¯¹è±¡ï¼ŒåŒ…å« pathã€title å±æ€§
   * 2. å‚æ•° config ä¸ºé¡µé¢çš„é…ç½®ä¿¡æ¯å¯¹è±¡
   * 3. è¿”å›å€¼å¿…é¡»ä¸ºè·¯ç”±å¯¹è±¡ï¼Œè‹¥è¿”å›å€¼ä¸º nullï¼Œåˆ™è¯¥è·¯ç”±ä¸ä¼šè¢«æ·»åŠ åˆ°é¢åŒ…å±‘ä¸­
   * */
  setBreadcrumb: (route, config) => {
    // ä½ å¯ä»¥æ ¹æ®é¡µé¢é…ç½®ä¿¡æ¯æ¥è®¾ç½®é¢åŒ…å±‘çš„å±æ€§
    route.meta = {
      ...config,
    };
    return route;
  },
  /**
   * type: function
   *
   * è®¾ç½®è·¯ç”±çš„å›è°ƒå‡½æ•°ï¼Œè¦æ±‚ï¼š
   * 1. å‚æ•° route ä¸ºè·¯ç”±å¯¹è±¡ï¼ŒåŒ…å« pathã€nameã€meta å±æ€§
   * 2. å‚æ•° config ä¸ºé¡µé¢çš„é…ç½®ä¿¡æ¯å¯¹è±¡
   * 3. è¿”å›å€¼å¿…é¡»ä¸ºè·¯ç”±å¯¹è±¡ï¼Œè‹¥è¿”å›å€¼ä¸º nullï¼Œåˆ™è¯¥è·¯ç”±ä¸ä¼šè¢«æ·»åŠ åˆ°è·¯ç”±ä¸­
   */
  setRoute: (route, config) => {
    // ä½ å¯ä»¥æ ¹æ®é¡µé¢é…ç½®ä¿¡æ¯æ¥è®¾ç½®è·¯ç”±çš„å±æ€§
    /**
     * configä¸­ä¼šæœ‰é¢åŒ…å±‘çš„é…ç½®ä¿¡æ¯
     * {
     *  component,
     *  path,
     *  name,
     *  meta: {
     *      breadcrumbList:[],
     *  },
     * }
     *
     * */
    route.meta = {
      ...config,
    };
    return route;
  },
});
app.mount('#app')
```
